#!/bin/sh
# -----------------------------------------------------------------------------
# Scriptname: config.txt
# Datum: $(date "+%Y-%m-%d")          # Date: $(date "+%Y-%m-%d")
# Uhrzeit: $(date "+%H:%M:%S")        # Time: $(date "+%H:%M:%S")
# Beschreibung: Diese Datei enthält die Konfiguration für das Skript,
#               einschließlich der Umgebungsvariablen und Installationspfade.
#
# Description: This file contains the configuration for the script,
#              including environment variables and installation paths.
# -----------------------------------------------------------------------------

# Programmversionen
FFMPEG_VERSION=8.0.1
NASM_VERSION=2.16.03
ZIG_VERSION=0.15.2
VAPOURSYNTH_VERSION="R73"

# Installationsverzeichnis
# Installation directory
export VSPREFIX="$HOME/opt/vapoursynth"

# Anzahl der Jobs (alle verfügbaren Kerne nutzen)
# Number of jobs (use all available cores)
export JOBS=$(nproc)

# Python-Version und Verzeichnis für site-packages
# Python version and site-packages directory
python3_version=$(python3 -c "import sys; print('python{}.{}'.format(sys.version_info.major, sys.version_info.minor))")
vs_site_packages="$VSPREFIX/lib/$python3_version/site-packages"

# PKG_CONFIG_PATH
# PKG_CONFIG_PATH
my_pkg_config_path="$VSPREFIX/lib/pkgconfig"

# PATH aktualisieren
# Update PATH
case ":$PATH:" in
    *":$VSPREFIX/bin:"*) : ;;  # Nichts tun, wenn bereits im PATH
    *) export PATH="$VSPREFIX/bin:$PATH" ;;  # An PATH anfügen
esac

# PKG_CONFIG_PATH aktualisieren
# Update PKG_CONFIG_PATH
if [ -z "${PKG_CONFIG_PATH+x}" ]; then
    export PKG_CONFIG_PATH="$my_pkg_config_path"
else
    case ":$PKG_CONFIG_PATH:" in
        *":$my_pkg_config_path:"*) : ;;  # Nichts tun, wenn bereits im PKG_CONFIG_PATH
        *) export PKG_CONFIG_PATH="$my_pkg_config_path:$PKG_CONFIG_PATH" ;;  # An PKG_CONFIG_PATH anfügen
    esac
fi

# LD_LIBRARY_PATH aktualisieren
# Update LD_LIBRARY_PATH
if [ -z "${LD_LIBRARY_PATH+x}" ]; then
    export LD_LIBRARY_PATH="$VSPREFIX/lib"
else
    case ":$LD_LIBRARY_PATH:" in
        *":$VSPREFIX/lib:"*) : ;;  # Nichts tun, wenn bereits im LD_LIBRARY_PATH
        *) export LD_LIBRARY_PATH="$VSPREFIX/lib:$LD_LIBRARY_PATH" ;;  # An LD_LIBRARY_PATH anfügen
    esac
fi

# PYTHONPATH aktualisieren
# Update PYTHONPATH
if [ -z "${PYTHONPATH+x}" ]; then
    export PYTHONPATH="$vs_site_packages"
else
    case ":$PYTHONPATH:" in
        *":$vs_site_packages:"*) : ;;  # Nichts tun, wenn bereits im PYTHONPATH
        *) export PYTHONPATH="$vs_site_packages:$PYTHONPATH" ;;  # An PYTHONPATH anfügen
    esac
fi

# Umgebungsvariablen zur Überprüfung ausgeben
# Print environment variables for verification
echo "PATH: $PATH"
echo "PKG_CONFIG_PATH: ${PKG_CONFIG_PATH:-not set}"
echo "LD_LIBRARY_PATH: ${LD_LIBRARY_PATH:-not set}"
echo "PYTHONPATH: ${PYTHONPATH:-not set}"
